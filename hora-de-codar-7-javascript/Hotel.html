<html>

<head>

    <script>

        var nomeHotel = "Morada das Estrelas "
        var nomeUsuario;
        var nomeHospede;
        var calculoHospedagem;

        const listaQuartos = [
            { nome: "quarto1", status: "disponivel" },
            { nome: "quarto2", status: "disponivel" },
            { nome: "quarto3", status: "disponivel" },
            { nome: "quarto4", status: "disponivel" },
            { nome: "quarto5", status: "disponivel" },
            { nome: "quarto6", status: "disponivel" },
            { nome: "quarto7", status: "disponivel" },
            { nome: "quarto8", status: "disponivel" },
            { nome: "quarto9", status: "disponivel" },
            { nome: "quarto10", status: "disponivel" },
            { nome: "quarto11", status: "disponivel" },
            { nome: "quarto12", status: "disponivel" },
            { nome: "quarto13", status: "disponivel" },
            { nome: "quarto14", status: "disponivel" },
            { nome: "quarto15", status: "disponivel" },
            { nome: "quarto16", status: "disponivel" },
            { nome: "quarto17", status: "disponivel" },
            { nome: "quarto18", status: "disponivel" },
            { nome: "quarto19", status: "disponivel" },
            { nome: "quarto20", status: "disponivel" }
        ];


        function login() {
            nomeUsuario = prompt("Digite seu nome")
            alert("Bem vindo ao Hotel " + nomeHotel + nomeUsuario + ". É um imenso prazer ter você por aqui!")

            var senha = parseInt(prompt("Digite a senha(2678)"))

            if (senha == 2678) {
                alert("Senha correta")

                //chamar menu?
            } else {
                alert("A senha informada não esta correta")
                login()
            }

        }


        function inicio() {

            alert("Bem vindo ao Hotel " + nomeHotel)

            login()

            var escolha = parseInt(prompt('Selecione uma opção 1.) Reserva de Quartos 2.) Cadastro de Hóspedes 3.) Abastecimento de Carros 4.) Sair'));

            switch (escolha) {
                case 1:
                    reserva_quartos()
                    break;
                case 2:
                    cadastro_hospedes()
                    break;
                case 3:
                    abastecer_carros()
                    break;
                case 4:
                    sair()
                    break;
                default:
                    erro();

            }

            /*if (escolha === 1) {
                reserva_quartos();
            } else if (escolha === 2) {
                cadastro_hospedes();
            } else if (escolha === 3) {
                abastecer_carros();
            } else if (escolha === 4) {
                sair();
            } else {
                erro();
            }*/

        }

        function reserva_quartos() {
            alert(nomeHotel + '- RESERVA DE QUARTOS');

            diariaHotel = parseFloat(prompt("Qual o valor padrão da diária?"));
            quantDias = parseInt(prompt("Quantos dias você vai se hospedar?"));
        

            if (
                isNaN(diariaHotel) || diariaHotel <= 0 || isNaN(quantDias) || quantDias <= 0 || quantDias > 30) {
                alert("Valor inválido");
                reserva_quartos();
            } else {
                var nomeHospede = prompt("Qual o nome do hóspede?");

            }

            calculoHospedagem = diariaHotel * quantDias;


            var escolhaQuarto = parseInt(prompt("Qual o quarto para reserva? (1 - 20)?"));

            if (isNaN(escolhaQuarto) || escolhaQuarto < 1 || escolhaQuarto > 20) {
                alert("Número do quarto inválido.");
                reserva_quartos();
            }else{
                alert("Quarto livre")
            }

            let quartoSelecionado = listaQuartos[escolhaQuarto - 1];

            if (quartoSelecionado.status === "disponivel") {
                quartoSelecionado.status = "ocupado";
                alert( nomeUsuario + " você confirma a hospedagem para " + nomeHospede + " por " + quantDias + " dias," + " para o quarto " + quartoSelecionado.nome + " por " + calculoHospedagem + " Reais");
            } else {
                alert("Esse quarto já está ocupado. Escolha outro.");
                reserva_quartos();
            }

            var confirma = prompt("Voce confirma a reserva?")

            if (confirma === "s") {
                alert("Reserva confirmada para " + nomeHospede + " no " + quartoSelecionado.nome + " por " + quantDias + " dias.");
            } else {
                quartoSelecionado.status === "ocupado";
                quartoSelecionado.status = "disponivel"
                reserva_quartos();
            }


            /*if (escolhaQuarto) {
                alert("Quarto Livre.")
            } else {
                alert("Quarto está ocupado. Escolha outro.")
    
            }*/

            inicio();
        }

        function cadastro_hospedes() {
            alert(nomeHotel + ' - CADASTRO DE HÓSPEDES');
            inicio();
        }

        function abastecer_carros() {
            alert(nomeHotel + ' - ABASTECER');
            inicio();
        }

        function erro() {
            alert('Por favor, informe um número entre 1 e 4');
            inicio();
        }

        function sair() {
            var confirma = confirm('Você deseja sair?');
            if (confirma) {
                alert("Muito obrigado e até logo, " + nomeUsuario)
                window.close();

            } else {
                inicio();
            }
        }



        inicio();
    </script>
</head>

<body>

</body>

</html>
